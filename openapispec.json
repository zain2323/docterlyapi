{"info": {"title": "Doctorly API", "version": "0.1"}, "servers": [{"url": "http://localhost/"}], "tags": [{"name": "Users"}, {"name": "Auth"}, {"name": "Doctors"}, {"name": "Patients"}, {"name": "Misc"}], "paths": {"/users/info": {"get": {"operationId": "users_get_account_info", "parameters": [], "tags": ["Users"], "summary": "Get the currently authenticated user's info", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/User"}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/doctors/new": {"post": {"operationId": "doctors_new", "parameters": [], "tags": ["Doctors"], "summary": "Registers a new doctor", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Doctor"}}}, "description": "OK"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateNewDoctor"}}}, "required": true}}}, "/doctors/all": {"get": {"operationId": "doctors_get_all", "parameters": [], "tags": ["Doctors"], "summary": "Returns all the registered doctors", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DoctorInfo"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/patient/new": {"post": {"operationId": "patients_new", "parameters": [], "tags": ["Patients"], "summary": "Registers a new patient", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Patient"}}}, "description": "OK"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Patient"}}}, "required": true}, "security": [{"token_auth": []}]}}, "/patient/all": {"get": {"operationId": "patients_get_all", "parameters": [], "tags": ["Patients"], "summary": "Returns all the registered patients for the currently authenticated user", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Patient"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/auth/logout": {"put": {"operationId": "auth_logout", "parameters": [], "tags": ["Auth"], "summary": "Logout the currently authenticated user", "responses": {"204": {"description": "No Content"}}, "security": [{"token_auth": []}]}}, "/doctors/info": {"get": {"operationId": "doctors_get_current_doctor_info", "parameters": [], "tags": ["Doctors"], "summary": "Get the currently authenticated doctor's info", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DoctorInfo"}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/patient/info": {"get": {"operationId": "patients_get_all_patients", "parameters": [], "tags": ["Patients"], "summary": "Get all patients of the authenticated user", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Patient"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/users/register": {"post": {"operationId": "users_register", "parameters": [], "tags": ["Users"], "summary": "Registers a new user", "responses": {"201": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/User"}}}, "description": "Created"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/User"}}}, "required": true}}}, "/auth/get_token": {"post": {"operationId": "auth_get_auth_token", "parameters": [], "tags": ["Auth"], "summary": "Get the authentication token", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Token"}}}, "description": "OK"}, "401": {"description": "Invalid username or password"}}, "security": [{"basic_auth": []}]}}, "/doctors/add_slot": {"post": {"operationId": "doctors_create_slot", "parameters": [], "tags": ["Doctors"], "summary": "Create your available slots", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReturnSlot"}}}, "description": "OK"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateNewSlot"}}}, "required": true}, "security": [{"token_auth": []}]}}, "/doctors/patients": {"get": {"operationId": "doctors_get_all_patients", "parameters": [], "tags": ["Doctors"], "summary": "Returns all of your patients", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Patient"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/misc/specializations": {"get": {"operationId": "misc_get_specializations", "parameters": [], "tags": ["Misc"], "summary": "Returns all the specializations", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Specialization"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/doctors/get/{id}": {"get": {"operationId": "doctors_get_doctor", "parameters": [{"in": "path", "name": "id", "schema": {"type": "integer"}, "required": true}], "tags": ["Doctors"], "summary": "Get doctor by the id", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DoctorInfo"}}}, "description": "OK"}, "404": {"description": "Doctor not found"}}, "security": [{"token_auth": []}]}}, "/patient/get/{id}": {"get": {"operationId": "patients_get_patient", "parameters": [{"in": "path", "name": "id", "schema": {"type": "integer"}, "required": true}], "tags": ["Patients"], "summary": "Get patient by the id", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Patient"}}}, "description": "OK"}, "404": {"description": "Patient not found"}}, "security": [{"token_auth": []}]}}, "/patient/new_appointment": {"post": {"operationId": "patients_create_appointment", "parameters": [], "tags": ["Patients"], "summary": "Create a new appointment for the given patient id", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReturnAppointment"}}}, "description": "OK"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Appointment"}}}, "required": true}, "security": [{"token_auth": []}]}}, "/doctors/add_qualifications": {"post": {"operationId": "doctors_add_qualfications", "parameters": [], "tags": ["Doctors"], "summary": "Add qualifications", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DoctorQualifications"}}}, "description": "OK"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DoctorQualifications"}}}, "required": true}, "security": [{"token_auth": []}]}}, "/patient/appointment/history": {"get": {"operationId": "patients_appointment_history", "parameters": [], "tags": ["Patients"], "summary": "Returns the appointment history for the currently authenticated user", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AppointmentHistory"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/doctors/add_specializations": {"post": {"operationId": "doctors_add_specializations", "parameters": [], "tags": ["Doctors"], "summary": "Add specializations", "responses": {"200": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DoctorSpecializations"}}}, "description": "OK"}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DoctorSpecializations"}}}, "required": true}, "security": [{"token_auth": []}]}}, "/doctors/slot/{doctor_id}": {"get": {"operationId": "doctors_get_available_slots", "parameters": [{"in": "path", "name": "doctor_id", "schema": {"type": "integer"}, "required": true}], "tags": ["Doctors"], "summary": "Return all the available slots of the doctor with the given id", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ReturnSlot"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/doctors/timings/{doctor_id}": {"get": {"operationId": "doctors_get_doctors_next_sitting_date", "parameters": [{"in": "path", "name": "doctor_id", "schema": {"type": "integer"}, "required": true}], "tags": ["Doctors"], "summary": "Return all the doctor's next sitting date with the given id", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Timings"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/doctors/patients/{appointment_id}": {"get": {"operationId": "doctors_get_appointment_patients", "parameters": [{"in": "path", "name": "appointment_id", "schema": {"type": "integer"}, "required": true}], "tags": ["Doctors"], "summary": "Returns all the patients of the particular appointment id of the currently authenticated doctor", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Patient"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/misc/doctors/qualification/{qualification_id}": {"get": {"operationId": "misc_get_doctors_by_qualification", "parameters": [{"in": "path", "name": "qualification_id", "schema": {"type": "integer"}, "required": true}], "tags": ["Misc"], "summary": "Returns all the doctors with the given qualification id", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Doctor"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}, "/misc/doctors/specialization/{specialization_id}": {"get": {"operationId": "misc_get_doctors_by_specialization", "parameters": [{"in": "path", "name": "specialization_id", "schema": {"type": "integer"}, "required": true}], "tags": ["Misc"], "summary": "Returns all the doctors with the given specialization id", "responses": {"200": {"content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Doctor"}}}}, "description": "OK"}}, "security": [{"token_auth": []}]}}}, "openapi": "3.0.3", "components": {"schemas": {"User": {"type": "object", "properties": {"id": {"type": "integer", "readOnly": true}, "name": {"type": "string", "minLength": 3, "maxLength": 64}, "email": {"type": "string", "format": "email", "maxLength": 120}, "password": {"type": "string", "writeOnly": true, "minLength": 8}, "registered_at": {"type": "string", "format": "date-time", "readOnly": true}, "confirmed": {"type": "boolean", "readOnly": true}, "dob": {"type": "string", "format": "date"}, "gender": {"type": "string", "maxLength": 8}, "role": {"type": "string"}}, "required": ["dob", "email", "gender", "name", "role"]}, "CreateNewDoctor": {"type": "object", "properties": {"name": {"type": "string", "minLength": 3, "maxLength": 64}, "email": {"type": "string", "maxLength": 120}, "password": {"type": "string", "writeOnly": true, "minLength": 8}, "dob": {"type": "string", "format": "date"}, "registered_at": {"type": "string", "format": "date-time", "readOnly": true}, "gender": {"type": "string", "maxLength": 8}, "role": {"type": "string"}, "description": {"type": "string"}}, "required": ["description", "dob", "email", "gender", "name", "role"]}, "Specialization": {"type": "object", "properties": {"id": {"type": "integer", "readOnly": true}, "name": {"type": "string", "maxLength": 50}}, "required": ["name"]}, "DoctorQualifications": {"type": "object", "properties": {"qualification_name": {"type": "array", "items": {"type": "string", "maxLength": 30}}, "procurement_year": {"type": "array", "items": {"type": "string", "format": "date"}}, "institute_name": {"type": "array", "items": {"type": "string"}}}}, "Doctor": {"type": "object", "properties": {"id": {"type": "integer", "readOnly": true}, "user": {"$ref": "#/components/schemas/User"}, "description": {"type": "string", "readOnly": true}, "specializations": {"type": "array", "items": {"$ref": "#/components/schemas/Specialization"}}, "qualifications": {"type": "array", "items": {"$ref": "#/components/schemas/DoctorQualifications"}}}, "required": ["description"]}, "ReturnSlot": {"type": "object", "properties": {"id": {"type": "integer"}, "day": {"type": "string"}, "start": {"type": "string"}, "end": {"type": "string"}, "consultation_fee": {"type": "integer"}, "appointment_duration": {"type": "integer"}, "num_slots": {"type": "integer"}}}, "DoctorInfo": {"type": "object", "properties": {"id": {"type": "integer"}, "user": {"$ref": "#/components/schemas/User"}, "description": {"type": "string"}, "experience": {"type": "integer"}, "specializations": {"$ref": "#/components/schemas/Specialization"}, "qualifications": {"$ref": "#/components/schemas/DoctorQualifications"}, "slot": {"type": "array", "items": {"$ref": "#/components/schemas/ReturnSlot"}}}}, "Patient": {"type": "object", "properties": {"id": {"type": "integer", "readOnly": true}, "name": {"type": "string", "maxLength": 30}, "age": {"type": "integer"}, "gender": {"type": "string", "maxLength": 8}, "user": {"readOnly": true, "allOf": [{"$ref": "#/components/schemas/User"}]}}, "required": ["age", "gender", "name"]}, "Token": {"type": "object", "properties": {"token": {"type": "string"}}, "required": ["token"]}, "CreateNewSlot": {"type": "object", "properties": {"day": {"type": "string"}, "start": {"type": "string"}, "end": {"type": "string", "readOnly": true}, "consultation_fee": {"type": "integer", "minimum": 1}, "appointment_duration": {"type": "integer", "minimum": 10, "maximum": 30}, "num_slots": {"type": "integer", "minimum": 10, "maximum": 50}}, "required": ["appointment_duration", "consultation_fee", "day", "num_slots", "start"]}, "Appointment": {"type": "object", "properties": {"id": {"type": "integer", "readOnly": true}, "slot_id": {"type": "integer"}, "patient_id": {"type": "integer"}}, "required": ["patient_id", "slot_id"]}, "Timings": {"type": "object", "properties": {"slot": {"$ref": "#/components/schemas/ReturnSlot"}, "occurring_date": {"type": "string", "format": "date"}, "slots_booked": {"type": "integer"}}}, "ReturnAppointment": {"type": "object", "properties": {"id": {"type": "integer"}, "patient": {"$ref": "#/components/schemas/Patient"}, "timings": {"$ref": "#/components/schemas/Timings"}, "expected_time": {"type": "string"}}}, "AppointmentHistory": {"type": "object", "properties": {"id": {"type": "integer"}, "patient": {"$ref": "#/components/schemas/Patient"}, "doctor": {"$ref": "#/components/schemas/DoctorInfo"}, "timings": {"$ref": "#/components/schemas/Timings"}}}, "DoctorSpecializations": {"type": "object", "properties": {"specialization_name": {"type": "array", "items": {"type": "string", "maxLength": 30}}}}}, "securitySchemes": {"basic_auth": {"type": "http", "scheme": "basic"}, "token_auth": {"type": "http", "scheme": "bearer"}}}}